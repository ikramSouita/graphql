{"ast":null,"code":"var _jsxFileName = \"/Users/ikramsouita/WebstormProjects/Graph-front/frontend/src/components/ComptesPopup.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useQuery, useMutation, gql } from \"@apollo/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GET_COMPTES = gql`\n  query {\n    allComptes {\n      id\n      solde\n      type\n      dateCreation\n    }\n  }\n`;\nconst DELETE_COMPTE = gql`\n  mutation ($id: Long!) {\n    deleteCompte(id: $id)\n  }\n`;\nconst ComptesPopup = ({\n  isOpen,\n  onClose\n}) => {\n  _s();\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_COMPTES);\n  const [deleteCompte] = useMutation(DELETE_COMPTE, {\n    refetchQueries: [{\n      query: GET_COMPTES\n    }]\n  });\n  const handleDelete = id => {\n    deleteCompte({\n      variables: {\n        id\n      }\n    }).then(() => {\n      alert(`Compte ${id} supprimé avec succès !`);\n    }).catch(err => {\n      alert(`Erreur : ${err.message}`);\n    });\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"fixed\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -50%)\",\n      background: \"white\",\n      padding: \"20px\",\n      borderRadius: \"10px\",\n      boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.2)\",\n      zIndex: 1000,\n      width: \"80%\",\n      maxHeight: \"80vh\",\n      // Limite la hauteur de la popup\n      overflowY: \"auto\" // Active le défilement si le contenu dépasse la hauteur\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      style: {\n        position: \"absolute\",\n        top: \"10px\",\n        right: \"10px\",\n        background: \"red\",\n        color: \"white\",\n        border: \"none\",\n        padding: \"5px 10px\",\n        borderRadius: \"5px\",\n        cursor: \"pointer\"\n      },\n      children: \"Fermer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"20px\"\n      },\n      children: \"Liste des Comptes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Chargement...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Erreur : \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 23\n    }, this), data && /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        maxHeight: \"60vh\",\n        // Limite la hauteur de la liste\n        overflowY: \"auto\",\n        // Active le défilement pour la liste\n        border: \"1px solid #ddd\",\n        borderRadius: \"5px\"\n      },\n      children: data.allComptes.map(compte => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          padding: \"10px\",\n          borderBottom: \"1px solid #ddd\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: compte.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this), \" - \", compte.solde.toFixed(2), \" DH (Cr\\xE9\\xE9 le \", compte.dateCreation, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(compte.id),\n          style: {\n            background: \"red\",\n            color: \"white\",\n            border: \"none\",\n            padding: \"5px 10px\",\n            borderRadius: \"5px\",\n            cursor: \"pointer\"\n          },\n          children: \"Supprimer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 29\n        }, this)]\n      }, compte.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(ComptesPopup, \"Z9uqD1IrZ+q3/mYVa86Jilg3Oos=\", false, function () {\n  return [useQuery, useMutation];\n});\n_c = ComptesPopup;\nexport default ComptesPopup;\nvar _c;\n$RefreshReg$(_c, \"ComptesPopup\");","map":{"version":3,"names":["React","useQuery","useMutation","gql","jsxDEV","_jsxDEV","GET_COMPTES","DELETE_COMPTE","ComptesPopup","isOpen","onClose","_s","loading","error","data","deleteCompte","refetchQueries","query","handleDelete","id","variables","then","alert","catch","err","message","style","position","top","left","transform","background","padding","borderRadius","boxShadow","zIndex","width","maxHeight","overflowY","children","onClick","right","color","border","cursor","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","marginBottom","listStyle","margin","allComptes","map","compte","display","justifyContent","alignItems","borderBottom","type","solde","toFixed","dateCreation","_c","$RefreshReg$"],"sources":["/Users/ikramsouita/WebstormProjects/Graph-front/frontend/src/components/ComptesPopup.js"],"sourcesContent":["import React from \"react\";\nimport { useQuery, useMutation, gql } from \"@apollo/client\";\n\nconst GET_COMPTES = gql`\n  query {\n    allComptes {\n      id\n      solde\n      type\n      dateCreation\n    }\n  }\n`;\n\nconst DELETE_COMPTE = gql`\n  mutation ($id: Long!) {\n    deleteCompte(id: $id)\n  }\n`;\n\nconst ComptesPopup = ({ isOpen, onClose }) => {\n    const { loading, error, data } = useQuery(GET_COMPTES);\n    const [deleteCompte] = useMutation(DELETE_COMPTE, {\n        refetchQueries: [{ query: GET_COMPTES }],\n    });\n\n    const handleDelete = (id) => {\n        deleteCompte({ variables: { id } })\n            .then(() => {\n                alert(`Compte ${id} supprimé avec succès !`);\n            })\n            .catch((err) => {\n                alert(`Erreur : ${err.message}`);\n            });\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div\n            style={{\n                position: \"fixed\",\n                top: \"50%\",\n                left: \"50%\",\n                transform: \"translate(-50%, -50%)\",\n                background: \"white\",\n                padding: \"20px\",\n                borderRadius: \"10px\",\n                boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.2)\",\n                zIndex: 1000,\n                width: \"80%\",\n                maxHeight: \"80vh\", // Limite la hauteur de la popup\n                overflowY: \"auto\", // Active le défilement si le contenu dépasse la hauteur\n            }}\n        >\n            <button\n                onClick={onClose}\n                style={{\n                    position: \"absolute\",\n                    top: \"10px\",\n                    right: \"10px\",\n                    background: \"red\",\n                    color: \"white\",\n                    border: \"none\",\n                    padding: \"5px 10px\",\n                    borderRadius: \"5px\",\n                    cursor: \"pointer\",\n                }}\n            >\n                Fermer\n            </button>\n            <h2 style={{ textAlign: \"center\", marginBottom: \"20px\" }}>Liste des Comptes</h2>\n            {loading && <p>Chargement...</p>}\n            {error && <p>Erreur : {error.message}</p>}\n            {data && (\n                <ul\n                    style={{\n                        listStyle: \"none\",\n                        padding: 0,\n                        margin: 0,\n                        maxHeight: \"60vh\", // Limite la hauteur de la liste\n                        overflowY: \"auto\", // Active le défilement pour la liste\n                        border: \"1px solid #ddd\",\n                        borderRadius: \"5px\",\n                    }}\n                >\n                    {data.allComptes.map((compte) => (\n                        <li\n                            key={compte.id}\n                            style={{\n                                display: \"flex\",\n                                justifyContent: \"space-between\",\n                                alignItems: \"center\",\n                                padding: \"10px\",\n                                borderBottom: \"1px solid #ddd\",\n                            }}\n                        >\n              <span>\n                <strong>{compte.type}</strong> - {compte.solde.toFixed(2)} DH\n                (Créé le {compte.dateCreation})\n              </span>\n                            <button\n                                onClick={() => handleDelete(compte.id)}\n                                style={{\n                                    background: \"red\",\n                                    color: \"white\",\n                                    border: \"none\",\n                                    padding: \"5px 10px\",\n                                    borderRadius: \"5px\",\n                                    cursor: \"pointer\",\n                                }}\n                            >\n                                Supprimer\n                            </button>\n                        </li>\n                    ))}\n                </ul>\n            )}\n        </div>\n    );\n};\n\nexport default ComptesPopup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}