{"ast":null,"code":"var _jsxFileName = \"/Users/ikramsouita/WebstormProjects/Graph-front/src/components/DeleteComptes.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useMutation, gql } from '@apollo/client';\nimport PropTypes from 'prop-types'; // Ajout pour des types robustes\n\n// Mutation GraphQL pour supprimer un compte\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DELETE_COMPTE = gql`\n  mutation DeleteCompte($id: ID!) {\n    deleteCompte(id: $id) {\n      id\n    }\n  }\n`;\nconst DeleteCompte = ({\n  id,\n  refetch\n}) => {\n  _s();\n  const [deleteCompte, {\n    loading,\n    error\n  }] = useMutation(DELETE_COMPTE, {\n    onCompleted: () => {\n      if (refetch) refetch(); // Recharger les données après suppression\n    }\n  });\n  const handleDelete = () => {\n    if (window.confirm('Êtes-vous sûr(e) de vouloir supprimer ce compte ?')) {\n      deleteCompte({\n        variables: {\n          id\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"delete-compte\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"delete-button\",\n      onClick: handleDelete,\n      disabled: loading,\n      style: {\n        backgroundColor: '#d9534f',\n        color: '#fff',\n        border: 'none',\n        padding: '10px 15px',\n        borderRadius: '4px',\n        cursor: loading ? 'not-allowed' : 'pointer',\n        fontSize: '14px'\n      },\n      children: loading ? 'Suppression...' : 'Supprimer'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#d9534f',\n        fontSize: '12px',\n        marginTop: '5px'\n      },\n      children: [\"Erreur : \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n};\n_s(DeleteCompte, \"eJDFlk8ppaHu/K+neLKjKJ1NDW0=\", false, function () {\n  return [useMutation];\n});\n_c = DeleteCompte;\nDeleteCompte.propTypes = {\n  id: PropTypes.string.isRequired,\n  refetch: PropTypes.func // Fonction facultative pour recharger les données\n};\nexport default DeleteCompte;\nvar _c;\n$RefreshReg$(_c, \"DeleteCompte\");","map":{"version":3,"names":["React","useMutation","gql","PropTypes","jsxDEV","_jsxDEV","DELETE_COMPTE","DeleteCompte","id","refetch","_s","deleteCompte","loading","error","onCompleted","handleDelete","window","confirm","variables","className","children","onClick","disabled","style","backgroundColor","color","border","padding","borderRadius","cursor","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","message","_c","propTypes","string","isRequired","func","$RefreshReg$"],"sources":["/Users/ikramsouita/WebstormProjects/Graph-front/src/components/DeleteComptes.js"],"sourcesContent":["import React from 'react';\nimport { useMutation, gql } from '@apollo/client';\nimport PropTypes from 'prop-types'; // Ajout pour des types robustes\n\n// Mutation GraphQL pour supprimer un compte\nconst DELETE_COMPTE = gql`\n  mutation DeleteCompte($id: ID!) {\n    deleteCompte(id: $id) {\n      id\n    }\n  }\n`;\n\nconst DeleteCompte = ({ id, refetch }) => {\n    const [deleteCompte, { loading, error }] = useMutation(DELETE_COMPTE, {\n        onCompleted: () => {\n            if (refetch) refetch(); // Recharger les données après suppression\n        },\n    });\n\n    const handleDelete = () => {\n        if (window.confirm('Êtes-vous sûr(e) de vouloir supprimer ce compte ?')) {\n            deleteCompte({ variables: { id } });\n        }\n    };\n\n    return (\n        <div className=\"delete-compte\">\n            <button\n                className=\"delete-button\"\n                onClick={handleDelete}\n                disabled={loading}\n                style={{\n                    backgroundColor: '#d9534f',\n                    color: '#fff',\n                    border: 'none',\n                    padding: '10px 15px',\n                    borderRadius: '4px',\n                    cursor: loading ? 'not-allowed' : 'pointer',\n                    fontSize: '14px',\n                }}\n            >\n                {loading ? 'Suppression...' : 'Supprimer'}\n            </button>\n            {error && (\n                <p\n                    style={{\n                        color: '#d9534f',\n                        fontSize: '12px',\n                        marginTop: '5px',\n                    }}\n                >\n                    Erreur : {error.message}\n                </p>\n            )}\n        </div>\n    );\n};\n\nDeleteCompte.propTypes = {\n    id: PropTypes.string.isRequired,\n    refetch: PropTypes.func, // Fonction facultative pour recharger les données\n};\n\nexport default DeleteCompte;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,GAAG,QAAQ,gBAAgB;AACjD,OAAOC,SAAS,MAAM,YAAY,CAAC,CAAC;;AAEpC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,aAAa,GAAGJ,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMK,YAAY,GAAGA,CAAC;EAAEC,EAAE;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACtC,MAAM,CAACC,YAAY,EAAE;IAAEC,OAAO;IAAEC;EAAM,CAAC,CAAC,GAAGZ,WAAW,CAACK,aAAa,EAAE;IAClEQ,WAAW,EAAEA,CAAA,KAAM;MACf,IAAIL,OAAO,EAAEA,OAAO,CAAC,CAAC,CAAC,CAAC;IAC5B;EACJ,CAAC,CAAC;EAEF,MAAMM,YAAY,GAAGA,CAAA,KAAM;IACvB,IAAIC,MAAM,CAACC,OAAO,CAAC,mDAAmD,CAAC,EAAE;MACrEN,YAAY,CAAC;QAAEO,SAAS,EAAE;UAAEV;QAAG;MAAE,CAAC,CAAC;IACvC;EACJ,CAAC;EAED,oBACIH,OAAA;IAAKc,SAAS,EAAC,eAAe;IAAAC,QAAA,gBAC1Bf,OAAA;MACIc,SAAS,EAAC,eAAe;MACzBE,OAAO,EAAEN,YAAa;MACtBO,QAAQ,EAAEV,OAAQ;MAClBW,KAAK,EAAE;QACHC,eAAe,EAAE,SAAS;QAC1BC,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE,WAAW;QACpBC,YAAY,EAAE,KAAK;QACnBC,MAAM,EAAEjB,OAAO,GAAG,aAAa,GAAG,SAAS;QAC3CkB,QAAQ,EAAE;MACd,CAAE;MAAAV,QAAA,EAEDR,OAAO,GAAG,gBAAgB,GAAG;IAAW;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CAAC,EACRrB,KAAK,iBACFR,OAAA;MACIkB,KAAK,EAAE;QACHE,KAAK,EAAE,SAAS;QAChBK,QAAQ,EAAE,MAAM;QAChBK,SAAS,EAAE;MACf,CAAE;MAAAf,QAAA,GACL,WACY,EAACP,KAAK,CAACuB,OAAO;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAACxB,EAAA,CA5CIH,YAAY;EAAA,QAC6BN,WAAW;AAAA;AAAAoC,EAAA,GADpD9B,YAAY;AA8ClBA,YAAY,CAAC+B,SAAS,GAAG;EACrB9B,EAAE,EAAEL,SAAS,CAACoC,MAAM,CAACC,UAAU;EAC/B/B,OAAO,EAAEN,SAAS,CAACsC,IAAI,CAAE;AAC7B,CAAC;AAED,eAAelC,YAAY;AAAC,IAAA8B,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}